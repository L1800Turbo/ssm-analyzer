{
  "version": "0.1",
  "functions": [
    {
      "name": "wait_ms",
      "pattern": [
        { "mnemonic": "pshx" },
        { "max_skip": 3 },
        { "mnemonic": "ldx" },
        { "mnemonic": "jsr", "op_str": "FN{mul16bit}" },
        { "mnemonic": "ldd" },
        { "mnemonic": "jsr", "op_str": "FN{divide}" }
      ]
    },
    {
      "name": "select_system",
      "depends_on": ["wait_ms"],
      "pattern": [
        { "mnemonic": "ldx", "op_str": "REF{str_select_system}" },
        { "mnemonic": "jsr", "op_str": "FN{print_upper_screen}" },
        { "mnemonic": "jsr" },
        { "mnemonic": "ldaa", "op_str": "VAR{current_selected_device}" }
      ],
      "description": "SELECT SYSTEM Function"
    },
    {
      "name": "print_upper_screen",
      "depends_on": ["select_system"],
      "start_address": "REF{print_upper_screen}",
      "pattern": [
        { "mnemonic": "psha" },
        { "mnemonic": "pshb" },
        { "mnemonic": "pshx" },
        { "mnemonic": "stx" },
        { "mnemonic": "ldab", "op_str": 0 },
        { "mnemonic": "ldx" },
        { "mnemonic": "abx"},
        { "mnemonic": "ldaa" },
        { "mnemonic": "ldx", "op_str": "VAR{ssm_display_y0_x0}" }
      ],
      "additional_vars": {
        "VAR{ssm_display_y0_x1}": "REF{ssm_display_y0_x0}+1",
        "VAR{ssm_display_y0_x2}": "REF{ssm_display_y0_x0}+2",
        "VAR{ssm_display_y0_x3}": "REF{ssm_display_y0_x0}+3",
        "VAR{ssm_display_y0_x4}": "REF{ssm_display_y0_x0}+4",
        "VAR{ssm_display_y0_x5}": "REF{ssm_display_y0_x0}+5",
        "VAR{ssm_display_y0_x6}": "REF{ssm_display_y0_x0}+6",
        "VAR{ssm_display_y0_x7}": "REF{ssm_display_y0_x0}+7",
        "VAR{ssm_display_y0_x8}": "REF{ssm_display_y0_x0}+8",
        "VAR{ssm_display_y0_x9}": "REF{ssm_display_y0_x0}+9",
        "VAR{ssm_display_y0_x10}": "REF{ssm_display_y0_x0}+10",
        "VAR{ssm_display_y0_x11}": "REF{ssm_display_y0_x0}+11",
        "VAR{ssm_display_y0_x12}": "REF{ssm_display_y0_x0}+12",
        "VAR{ssm_display_y0_x13}": "REF{ssm_display_y0_x0}+13",
        "VAR{ssm_display_y0_x14}": "REF{ssm_display_y0_x0}+14",
        "VAR{ssm_display_y0_x15}": "REF{ssm_display_y0_x0}+15",

        "VAR{ssm_display_y1_x0}": "REF{ssm_display_y0_x0}+16",
        
        "VAR{ssm_display_y1_x1}": "REF{ssm_display_y1_x0}+1",
        "VAR{ssm_display_y1_x2}": "REF{ssm_display_y1_x0}+2",
        "VAR{ssm_display_y1_x3}": "REF{ssm_display_y1_x0}+3",
        "VAR{ssm_display_y1_x4}": "REF{ssm_display_y1_x0}+4",
        "VAR{ssm_display_y1_x5}": "REF{ssm_display_y1_x0}+5",
        "VAR{ssm_display_y1_x6}": "REF{ssm_display_y1_x0}+6",
        "VAR{ssm_display_y1_x7}": "REF{ssm_display_y1_x0}+7",
        "VAR{ssm_display_y1_x8}": "REF{ssm_display_y1_x0}+8",
        "VAR{ssm_display_y1_x9}": "REF{ssm_display_y1_x0}+9",
        "VAR{ssm_display_y1_x10}": "REF{ssm_display_y1_x0}+10",
        "VAR{ssm_display_y1_x11}": "REF{ssm_display_y1_x0}+11",
        "VAR{ssm_display_y1_x12}": "REF{ssm_display_y1_x0}+12",
        "VAR{ssm_display_y1_x13}": "REF{ssm_display_y1_x0}+13",
        "VAR{ssm_display_y1_x14}": "REF{ssm_display_y1_x0}+14",
        "VAR{ssm_display_y1_x15}": "REF{ssm_display_y1_x0}+15"

      }
      
    }
  ],
  "strings": {
    "str_select_system": " SELECT SYSTEM  "
  }
}
